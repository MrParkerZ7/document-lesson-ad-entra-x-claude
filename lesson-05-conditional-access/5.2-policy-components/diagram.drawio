<mxfile host="app.diagrams.net" modified="2024-01-01T00:00:00.000Z" agent="Mozilla/5.0" version="22.1.0" type="device">
  <diagram name="Policy Components" id="policy-components-diagram">
    <mxGraphModel dx="1200" dy="800" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1200" pageHeight="800" math="0" shadow="1">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        <!-- Title -->
        <mxCell id="title" value="Conditional Access Policy Structure" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;fontStyle=1;fontColor=#0078D4;" vertex="1" parent="1">
          <mxGeometry x="300" y="20" width="600" height="40" as="geometry" />
        </mxCell>

        <!-- IF Section (Assignments) -->
        <mxCell id="if-box" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="80" width="480" height="340" as="geometry" />
        </mxCell>
        <mxCell id="if-header" value="ASSIGNMENTS (IF)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#6c8ebf;strokeColor=#6c8ebf;fontColor=#ffffff;fontSize=16;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="80" width="480" height="35" as="geometry" />
        </mxCell>

        <!-- Users and Groups -->
        <mxCell id="users-box" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#6c8ebf;strokeWidth=1;" vertex="1" parent="1">
          <mxGeometry x="80" y="130" width="200" height="130" as="geometry" />
        </mxCell>
        <mxCell id="users-header" value="Users &amp; Groups" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#6c8ebf;strokeColor=#6c8ebf;fontColor=#ffffff;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="80" y="130" width="200" height="25" as="geometry" />
        </mxCell>
        <mxCell id="users-inc" value="Include:&#xa;• All users&#xa;• Select users/groups&#xa;• Directory roles" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=9;spacingLeft=5;" vertex="1" parent="1">
          <mxGeometry x="85" y="160" width="95" height="60" as="geometry" />
        </mxCell>
        <mxCell id="users-exc" value="Exclude:&#xa;• Emergency accounts&#xa;• Service accounts&#xa;• Specific groups" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=9;spacingLeft=5;" vertex="1" parent="1">
          <mxGeometry x="180" y="160" width="95" height="60" as="geometry" />
        </mxCell>

        <!-- Cloud Apps -->
        <mxCell id="apps-box" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#6c8ebf;strokeWidth=1;" vertex="1" parent="1">
          <mxGeometry x="300" y="130" width="220" height="130" as="geometry" />
        </mxCell>
        <mxCell id="apps-header" value="Cloud Apps or Actions" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#6c8ebf;strokeColor=#6c8ebf;fontColor=#ffffff;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="300" y="130" width="220" height="25" as="geometry" />
        </mxCell>
        <mxCell id="apps-content" value="• All cloud apps&#xa;• Office 365&#xa;• Azure Management&#xa;• Custom apps&#xa;• User actions:&#xa;  - Register security info&#xa;  - Register devices" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=9;spacingLeft=5;" vertex="1" parent="1">
          <mxGeometry x="310" y="160" width="200" height="90" as="geometry" />
        </mxCell>

        <!-- Conditions -->
        <mxCell id="cond-box" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#6c8ebf;strokeWidth=1;" vertex="1" parent="1">
          <mxGeometry x="80" y="275" width="440" height="130" as="geometry" />
        </mxCell>
        <mxCell id="cond-header" value="Conditions" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#6c8ebf;strokeColor=#6c8ebf;fontColor=#ffffff;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="80" y="275" width="440" height="25" as="geometry" />
        </mxCell>

        <mxCell id="cond1" value="Sign-in Risk&#xa;High/Med/Low" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=9;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="95" y="310" width="75" height="40" as="geometry" />
        </mxCell>
        <mxCell id="cond2" value="User Risk&#xa;High/Med/Low" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=9;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="180" y="310" width="75" height="40" as="geometry" />
        </mxCell>
        <mxCell id="cond3" value="Device&#xa;Platform" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#6c8ebf;fontSize=9;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="265" y="310" width="75" height="40" as="geometry" />
        </mxCell>
        <mxCell id="cond4" value="Locations&#xa;Named/Trusted" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#6c8ebf;fontSize=9;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="350" y="310" width="75" height="40" as="geometry" />
        </mxCell>
        <mxCell id="cond5" value="Client&#xa;Apps" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#6c8ebf;fontSize=9;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="435" y="310" width="70" height="40" as="geometry" />
        </mxCell>
        <mxCell id="cond6" value="Device Filters (Query)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=9;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="95" y="360" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cond7" value="Auth Context" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=9;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="225" y="360" width="90" height="30" as="geometry" />
        </mxCell>

        <!-- Arrow -->
        <mxCell id="arrow-main" style="curved=1;endArrow=blockThin;endFill=1;strokeColor=#0078D4;strokeWidth=4;exitX=1;exitY=0.5;entryX=0;entryY=0.5;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="550" y="250" as="sourcePoint" />
            <mxPoint x="590" y="250" as="targetPoint" />
            <Array as="points">
              <mxPoint x="570" y="250" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- THEN Section (Access Controls) -->
        <mxCell id="then-box" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="600" y="80" width="300" height="340" as="geometry" />
        </mxCell>
        <mxCell id="then-header" value="ACCESS CONTROLS (THEN)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#82b366;strokeColor=#82b366;fontColor=#ffffff;fontSize=16;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="600" y="80" width="300" height="35" as="geometry" />
        </mxCell>

        <!-- Grant Controls -->
        <mxCell id="grant-box" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#82b366;strokeWidth=1;" vertex="1" parent="1">
          <mxGeometry x="620" y="130" width="260" height="170" as="geometry" />
        </mxCell>
        <mxCell id="grant-header" value="Grant Controls" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#82b366;strokeColor=#82b366;fontColor=#ffffff;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="620" y="130" width="260" height="25" as="geometry" />
        </mxCell>

        <mxCell id="grant-block" value="Block Access" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=10;fontStyle=1;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="640" y="165" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="grant-allow" value="Grant Access" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=10;fontStyle=1;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="745" y="165" width="90" height="30" as="geometry" />
        </mxCell>

        <mxCell id="grant1" value="Require MFA" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#82b366;fontSize=9;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="640" y="205" width="100" height="25" as="geometry" />
        </mxCell>
        <mxCell id="grant2" value="Auth Strength" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#82b366;fontSize=9;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="750" y="205" width="100" height="25" as="geometry" />
        </mxCell>
        <mxCell id="grant3" value="Compliant Device" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#82b366;fontSize=9;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="640" y="237" width="100" height="25" as="geometry" />
        </mxCell>
        <mxCell id="grant4" value="Hybrid Joined" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#82b366;fontSize=9;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="750" y="237" width="100" height="25" as="geometry" />
        </mxCell>
        <mxCell id="grant5" value="App Protection" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#82b366;fontSize=9;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="640" y="269" width="100" height="25" as="geometry" />
        </mxCell>
        <mxCell id="grant6" value="Password Change" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#82b366;fontSize=9;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="750" y="269" width="100" height="25" as="geometry" />
        </mxCell>

        <!-- Session Controls -->
        <mxCell id="session-box" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#82b366;strokeWidth=1;" vertex="1" parent="1">
          <mxGeometry x="620" y="310" width="260" height="95" as="geometry" />
        </mxCell>
        <mxCell id="session-header" value="Session Controls" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#82b366;strokeColor=#82b366;fontColor=#ffffff;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="620" y="310" width="260" height="25" as="geometry" />
        </mxCell>

        <mxCell id="sess1" value="Sign-in Frequency" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=9;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="640" y="345" width="100" height="25" as="geometry" />
        </mxCell>
        <mxCell id="sess2" value="Persistent Session" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=9;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="750" y="345" width="100" height="25" as="geometry" />
        </mxCell>
        <mxCell id="sess3" value="CA App Control" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=9;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="640" y="375" width="100" height="25" as="geometry" />
        </mxCell>
        <mxCell id="sess4" value="CAE Settings" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=9;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="750" y="375" width="100" height="25" as="geometry" />
        </mxCell>

        <!-- Logic Box -->
        <mxCell id="logic-box" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="450" width="840" height="90" as="geometry" />
        </mxCell>
        <mxCell id="logic-header" value="Multiple Controls Logic" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d6b656;strokeColor=#d6b656;fontColor=#ffffff;fontSize=14;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="450" width="840" height="30" as="geometry" />
        </mxCell>

        <mxCell id="logic-and" value="Require ALL selected controls (AND)&#xa;User must satisfy every requirement" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#d6b656;fontSize=11;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="100" y="495" width="250" height="35" as="geometry" />
        </mxCell>
        <mxCell id="logic-or" value="Require ONE of selected controls (OR)&#xa;User satisfies any one requirement" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#d6b656;fontSize=11;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="380" y="495" width="250" height="35" as="geometry" />
        </mxCell>
        <mxCell id="logic-block" value="Block always wins&#xa;over grant policies" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=11;fontStyle=1;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="660" y="495" width="200" height="35" as="geometry" />
        </mxCell>

        <!-- Policy States -->
        <mxCell id="states-box" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="560" width="840" height="70" as="geometry" />
        </mxCell>
        <mxCell id="states-header" value="Policy States" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#666666;strokeColor=#666666;fontColor=#ffffff;fontSize=14;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="560" width="840" height="25" as="geometry" />
        </mxCell>

        <mxCell id="state1" value="Enabled&#xa;Actively enforced" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=10;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="150" y="595" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="state2" value="Report-only&#xa;Logged, not enforced" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=10;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="400" y="595" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="state3" value="Disabled&#xa;Not evaluated" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontSize=10;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="650" y="595" width="150" height="30" as="geometry" />
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
